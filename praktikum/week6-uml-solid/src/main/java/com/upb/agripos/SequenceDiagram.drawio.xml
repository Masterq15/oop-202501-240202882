<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-01-27T10:00:00.000Z" agent="5.0" version="20.0.0">
  <diagram id="sequence-week15" name="Sequence Diagram Week 15">
    <mxGraphModel dx="1141" dy="686" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Lifelines -->
        <mxCell id="kasir" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;size=40;" value="Kasir" vertex="1">
          <mxGeometry height="1100" width="100" x="50" y="40" as="geometry" />
        </mxCell>
        
        <mxCell id="productService" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;size=40;" value="ProductService" vertex="1">
          <mxGeometry height="1100" width="120" x="220" y="40" as="geometry" />
        </mxCell>
        
        <mxCell id="cartService" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;size=40;" value="CartService" vertex="1">
          <mxGeometry height="1100" width="100" x="420" y="40" as="geometry" />
        </mxCell>
        
        <mxCell id="paymentService" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;size=40;" value="PaymentService" vertex="1">
          <mxGeometry height="1100" width="120" x="620" y="40" as="geometry" />
        </mxCell>
        
        <mxCell id="transactionService" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;size=40;" value="TransactionService" vertex="1">
          <mxGeometry height="1100" width="130" x="840" y="40" as="geometry" />
        </mxCell>
        
        <mxCell id="receiptService" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;size=40;" value="ReceiptService" vertex="1">
          <mxGeometry height="1100" width="120" x="1070" y="40" as="geometry" />
        </mxCell>
        
        <!-- Messages -->
        <!-- 1. Scan Product -->
        <mxCell id="msg1" edge="1" parent="1" source="kasir" target="productService">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="120" as="sourcePoint" />
            <mxPoint x="280" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg1-label" value="scanProduct(code)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg1">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 1. Return Product -->
        <mxCell id="msg1r" edge="1" parent="1" source="productService" target="kasir">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="280" y="150" as="sourcePoint" />
            <mxPoint x="100" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg1r-label" value="Product" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];dashed=1;" vertex="1" connectable="0" parent="msg1r">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 2. Add to Cart -->
        <mxCell id="msg2" edge="1" parent="1" source="kasir" target="cartService">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="200" as="sourcePoint" />
            <mxPoint x="470" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg2-label" value="addToCart(product, qty)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg2">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 2. Validate Stock -->
        <mxCell id="msg2v" edge="1" parent="1" source="cartService" target="cartService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="230" />
              <mxPoint x="540" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="msg2v-label" value="validateStock()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg2v">
          <mxGeometry x="20" y="0" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 2. Item Added -->
        <mxCell id="msg2r" edge="1" parent="1" source="cartService" target="kasir">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="290" as="sourcePoint" />
            <mxPoint x="100" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg2r-label" value="Item added" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];dashed=1;" vertex="1" connectable="0" parent="msg2r">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 3. Get Total -->
        <mxCell id="msg3" edge="1" parent="1" source="kasir" target="cartService">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="340" as="sourcePoint" />
            <mxPoint x="470" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg3-label" value="getTotal()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg3">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 3. Total -->
        <mxCell id="msg3r" edge="1" parent="1" source="cartService" target="kasir">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="370" as="sourcePoint" />
            <mxPoint x="100" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg3r-label" value="Total harga" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];dashed=1;" vertex="1" connectable="0" parent="msg3r">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 4. Process Payment -->
        <mxCell id="msg4" edge="1" parent="1" source="kasir" target="paymentService">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="420" as="sourcePoint" />
            <mxPoint x="680" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg4-label" value="processPayment(amount, method)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg4">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- ALT Frame Payment Method -->
        <mxCell id="altFrame" value="alt" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30;" vertex="1" parent="1">
          <mxGeometry height="300" width="600" x="200" y="450" as="geometry" />
        </mxCell>
        
        <mxCell id="altLabel1" parent="altFrame" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[CASH]" vertex="1">
          <mxGeometry height="20" width="570" x="15" as="geometry" />
        </mxCell>
        
        <!-- CASH Path -->
        <mxCell id="msg4c" edge="1" parent="1" source="paymentService" target="paymentService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="500" />
              <mxPoint x="750" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="msg4c-label" value="calculateChange()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg4c">
          <mxGeometry x="20" y="0" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="msg4cr" edge="1" parent="1" source="paymentService" target="kasir">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680" y="560" as="sourcePoint" />
            <mxPoint x="100" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg4cr-label" value="Success + Change" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];dashed=1;" vertex="1" connectable="0" parent="msg4cr">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- ALT Separator -->
        <mxCell id="altSep" parent="altFrame" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[E_WALLET]" vertex="1">
          <mxGeometry height="4" width="570" y="140" as="geometry" />
        </mxCell>
        
        <!-- E-WALLET Path -->
        <mxCell id="msg4e" edge="1" parent="1" source="paymentService" target="paymentService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="620" />
              <mxPoint x="750" y="650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="msg4e-label" value="verifyBalance()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg4e">
          <mxGeometry x="20" y="0" relative="1" as="geometry" />
        </mxCell>
        
        <!-- E-WALLET Success -->
        <mxCell id="msg4es" edge="1" parent="1" source="paymentService" target="paymentService">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="680" />
              <mxPoint x="750" y="710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="msg4es-label" value="deductBalance()" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg4es">
          <mxGeometry x="20" y="0" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="msg4er" edge="1" parent="1" source="paymentService" target="kasir">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680" y="740" as="sourcePoint" />
            <mxPoint x="100" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg4er-label" value="Success" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];dashed=1;" vertex="1" connectable="0" parent="msg4er">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 5. Save Transaction -->
        <mxCell id="msg5" edge="1" parent="1" source="kasir" target="transactionService">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="800" as="sourcePoint" />
            <mxPoint x="905" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg5-label" value="saveTransaction(cart, payment)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg5">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="msg5r" edge="1" parent="1" source="transactionService" target="kasir">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="905" y="830" as="sourcePoint" />
            <mxPoint x="100" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg5r-label" value="Transaction saved" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];dashed=1;" vertex="1" connectable="0" parent="msg5r">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <!-- 6. Generate Receipt -->
        <mxCell id="msg6" edge="1" parent="1" source="kasir" target="receiptService">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="900" as="sourcePoint" />
            <mxPoint x="1130" y="900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg6-label" value="generateReceipt(transaction)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="msg6">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="msg6r" edge="1" parent="1" source="receiptService" target="kasir">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1130" y="930" as="sourcePoint" />
            <mxPoint x="100" y="930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg6r-label" value="Receipt" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];dashed=1;" vertex="1" connectable="0" parent="msg6r">
          <mxGeometry x="0" y="-10" relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>